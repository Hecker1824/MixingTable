<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table Interactive des Interactions de Substances</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            background: #000;
            color: #fff;
            padding: 20px;
            overflow-x: auto;
        }

        .header {
            text-align: center;
            margin-bottom: 20px;
            background: #000;
            padding: 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: #fff;
            font-weight: bold;
            letter-spacing: 2px;
        }

        .warning {
            background: #000;
            color: #fff;
            padding: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-weight: bold;
            border: 2px solid #fff;
        }

        .table-container {
            overflow-x: auto;
            background: #000;
            padding: 20px;
        }

        table {
            border-collapse: collapse;
            margin: 0 auto;
            background: #000;
            border: 2px solid #333;
        }

        th, td {
            border: 1px solid #000;
            width: 45px;
            height: 45px;
            text-align: center;
            font-size: 18px;
            position: relative;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        th {
            background: #2d4a2b;
            color: #fff;
            font-weight: bold;
            font-size: 11px;
            padding: 5px;
        }

        th.substance-name {
            min-width: 120px;
            text-align: left;
            padding-left: 10px;
            font-size: 12px;
        }

        td:hover:not(.diagonal) {
            transform: scale(1.12);
            z-index: 10;
            box-shadow: 0 0 15px rgba(255,255,255,0.5);
            border: 2px solid #fff;
        }

        .diagonal {
            background: #2d4a2b;
            cursor: default;
        }

        /* Couleurs exactes de l'image originale */
        .low-risk-down { 
            background: #4169e1;
            color: #fff;
        }
        
        .low-risk-neutral { 
            background: #32cd32;
            color: #fff;
        }
        
        .low-risk-up { 
            background: #ba55d3;
            color: #fff;
        }
        
        .caution { 
            background: #ffd700;
            color: #000;
        }
        
        .unsafe { 
            background: #ff8c00;
            color: #fff;
        }
        
        .dangerous { 
            background: #dc143c;
            color: #fff;
        }

        /* Symboles */
        .symbol {
            font-size: 22px;
            font-weight: bold;
            display: block;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.85);
            animation: fadeIn 0.3s;
        }

        .modal-content {
            position: relative;
            margin: 8% auto;
            padding: 0;
            width: 90%;
            max-width: 700px;
            border-radius: 15px;
            animation: slideIn 0.4s;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8);
            overflow: hidden;
        }

        .modal-header {
            padding: 30px;
            color: #fff;
        }

        .modal-body {
            background: #fff;
            padding: 30px;
            color: #000;
        }

        .close {
            position: absolute;
            right: 20px;
            top: 15px;
            font-size: 35px;
            font-weight: bold;
            cursor: pointer;
            color: #fff;
            transition: transform 0.2s;
            z-index: 10;
        }

        .close:hover {
            transform: scale(1.2);
        }

        .modal-title {
            font-size: 28px;
            font-weight: bold;
            margin: 0;
        }

        .modal-description {
            line-height: 1.8;
            font-size: 17px;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            padding: 25px;
            background: #000;
            border: 2px solid #333;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 15px;
            font-size: 13px;
            color: #fff;
            font-weight: 500;
        }

        .legend-color {
            width: 30px;
            height: 30px;
            border: 2px solid #fff;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideIn {
            from { transform: translateY(-100px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.95);
            color: #fff;
            padding: 12px 16px;
            border-radius: 8px;
            font-size: 13px;
            z-index: 100;
            pointer-events: none;
            white-space: nowrap;
            display: none;
            box-shadow: 0 4px 15px rgba(0,0,0,0.6);
            border: 1px solid #fff;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>LEAVE THE MIXING TO THE DJ!</h1>
        <div class="warning">
            ‚ö†Ô∏è WARNING! THE CHART IS ONLY A REFERENCE GUIDE, LEARN MORE AND REMAIN CAUTIOUS!
        </div>
    </div>

    <div class="table-container">
        <table id="interactionTable"></table>
    </div>

    <div class="legend">
        <div class="legend-item">
            <div class="legend-color" style="background: #4169e1;"></div>
            <span><strong>‚Üì</strong> Low Risk and Counteracting</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #32cd32;"></div>
            <span><strong>‚äô</strong> Low Risk No Amplification</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #ba55d3;"></div>
            <span><strong>‚Üë</strong> Low Risk and Amplification</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #ffd700;"></div>
            <span><strong>‚ö†</strong> Caution</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #ff8c00;"></div>
            <span><strong>‚ò†</strong> Unsafe</span>
        </div>
        <div class="legend-item">
            <div class="legend-color" style="background: #dc143c;"></div>
            <span><strong>‚úñ</strong> Dangerous to life and health</span>
        </div>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content" id="modalContent">
            <div class="modal-header" id="modalHeader">
                <span class="close">&times;</span>
                <h2 class="modal-title" id="modalTitle"></h2>
            </div>
            <div class="modal-body">
                <div class="modal-description" id="modalDescription"></div>
            </div>
        </div>
    </div>

    <div class="tooltip" id="tooltip"></div>

    <script>
        // ========================================
        // D√âFINITIONS DES SUBSTANCES
        // ========================================
        const substances = {
            'LSD': { name: 'LSD', def: 'Psych√©d√©lique puissant qui alt√®re la perception, les pens√©es et les √©motions' },
            'Mushrooms': { name: 'Mushrooms', def: 'Champignons psilocybines - psych√©d√©liques naturels' },
            'DMT': { name: 'DMT', def: 'Dim√©thyltryptamine - psych√©d√©lique tr√®s intense et de courte dur√©e' },
            'Mescaline': { name: 'Mescaline', def: 'Psych√©d√©lique naturel trouv√© dans certains cactus' },
            'DOx': { name: 'DOx', def: 'Famille de psych√©d√©liques amph√©taminiques de longue dur√©e' },
            'NBOMe': { name: 'NBOMe', def: 'Psych√©d√©liques synth√©tiques puissants et potentiellement dangereux' },
            '2C-x': { name: '2C-x', def: 'Famille de psych√©d√©liques ph√©n√©thylamines' },
            '2C-T-x': { name: '2C-T-x', def: 'Sous-famille des 2C avec effets plus impr√©visibles' },
            '5-MeO-xxT': { name: '5-MeO-xxT', def: 'Tryptamines puissantes incluant 5-MeO-DMT' },
            'Cannabis': { name: 'Cannabis', def: 'Plante psychoactive aux effets relaxants et alt√©rant la perception' },
            'Ketamine': { name: 'Ketamine', def: 'Dissociatif anesth√©sique avec effets psych√©d√©liques' },
            'MXE': { name: 'MXE', def: 'M√©thox√©tamine - dissociatif similaire √† la k√©tamine' },
            'DXM': { name: 'DXM', def: 'Dextrom√©thorphane - dissociatif trouv√© dans les sirops contre la toux' },
            'N2O': { name: 'N2O', def: 'Protoxyde d\'azote - gaz dissociatif de courte dur√©e' },
            'Amphetamines': { name: 'Amphetamines', def: 'Stimulants qui augmentent √©nergie, concentration et euphorie' },
            'MDMA': { name: 'MDMA', def: 'Ecstasy - empathog√®ne stimulant avec effets prosociaux' },
            'Cocaine': { name: 'Cocaine', def: 'Stimulant puissant avec fort potentiel addictif' },
            'a-PVP': { name: 'a-PVP', def: 'Cathinone synth√©tique stimulante tr√®s puissante' },
            '4-MMC': { name: '4-MMC', def: 'M√©ph√©drone - cathinone stimulante et empathog√®ne' },
            'Caffeine': { name: 'Caffeine', def: 'Stimulant l√©ger pr√©sent dans le caf√© et le th√©' },
            'Alcohol': { name: 'Alcohol', def: 'D√©presseur du SNC tr√®s r√©pandu et l√©gal' },
            'GHB/GBL': { name: 'GHB/GBL', def: 'D√©presseurs euphorisants avec risque √©lev√© de surdose' },
            'Opioids': { name: 'Opioids', def: 'Analg√©siques puissants incluant h√©ro√Øne, morphine, fentanyl' },
            'Tramadol': { name: 'Tramadol', def: 'Opio√Øde synth√©tique avec risques de convulsions' },
            'Benzodiazepines': { name: 'Benzodiazepines', def: 'Anxiolytiques et s√©datifs avec fort potentiel de d√©pendance' },
            'MAOI': { name: 'MAOI', def: 'Inhibiteurs de la monoamine oxydase - utilis√©s en ayahuasca' },
            'SSRI': { name: 'SSRI', def: 'Inhibiteurs s√©lectifs de la recapture de la s√©rotonine - antid√©presseurs' }
        };

        // Couleurs exactes pour chaque type
        const colorMap = {
            'low-risk-down': '#4169e1',
            'low-risk-neutral': '#32cd32',
            'low-risk-up': '#ba55d3',
            'caution': '#ffd700',
            'unsafe': '#ff8c00',
            'dangerous': '#dc143c'
        };

        // ========================================
        // INTERACTIONS ENTRE SUBSTANCES
        // ========================================
        const interactions = {};

        // Fonction pour d√©finir une interaction
        function setInteraction(sub1, sub2, type, symbol, info) {
            const key = `${sub1}-${sub2}`;
            interactions[key] = { type, symbol, info };
        }

        // ========================================
        // üîß REMPLISSEZ VOS INTERACTIONS ICI :
        // ========================================
        // Format : setInteraction('Substance1', 'Substance2', 'TYPE', 'SYMBOLE', 'DESCRIPTION')
        //
        // TYPES disponibles :
        //   - 'low-risk-down'    ‚Üí Bleu (‚Üì)
        //   - 'low-risk-neutral' ‚Üí Vert (‚äô)
        //   - 'low-risk-up'      ‚Üí Violet/Rose (‚Üë)
        //   - 'caution'          ‚Üí Jaune (‚ö†)
        //   - 'unsafe'           ‚Üí Orange (‚ò†)
        //   - 'dangerous'        ‚Üí Rouge (‚úñ)
        //
        // SYMBOLES sugg√©r√©s : ‚Üì ‚äô ‚Üë ‚ö† ‚ò† ‚úñ
        // ========================================

        // ========== PSYCH√âD√âLIQUES ENTRE EUX ==========
        setInteraction('LSD', 'Mushrooms', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Visuels beaucoup plus intenses, pens√©es plus profondes, confusion accrue, risque de bad trip augment√©.');

        setInteraction('LSD', 'DMT', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Exp√©rience extr√™mement intense, dissolution compl√®te de l\'ego, visuels √©crasants.');

        setInteraction('LSD', 'Mescaline', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Trip tr√®s long (12-16h), visuels intenses, charge mentale importante.');

        setInteraction('LSD', '2C-x', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Stimulation mentale intense, visuels augment√©s, dur√©e prolong√©e.');

        setInteraction('Mushrooms', 'DMT', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Breakthrough plus facile, visuels champignons + g√©om√©trie DMT, tr√®s intense.');

        setInteraction('Mushrooms', 'Mescaline', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Trip √©motionnel profond, visuels naturels amplifi√©s, dur√©e tr√®s longue.');

        // ========== PSYCH√âD√âLIQUES + CANNABIS ==========
        setInteraction('LSD', 'Cannabis', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Anxi√©t√© et parano√Øa fortement augment√©es, confusion mentale, visuels plus intenses mais moins contr√¥lables.');

        setInteraction('Mushrooms', 'Cannabis', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Intensification impr√©visible du trip, anxi√©t√© accrue, pens√©es en boucle, naus√©es possibles.');

        setInteraction('DMT', 'Cannabis', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Exp√©rience plus confuse, anxi√©t√© pr√©-voyage augment√©e, int√©gration plus difficile.');

        setInteraction('Mescaline', 'Cannabis', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Naus√©es augment√©es, confusion mentale, visuels plus intenses mais d√©sorientants.');

        // ========== PSYCH√âD√âLIQUES + DISSOCIATIFS ==========
        setInteraction('LSD', 'Ketamine', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Dissociation extr√™me, visuels fractals intenses, confusion spatiale majeure, risque de mauvaise chute.');

        setInteraction('Mushrooms', 'Ketamine', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Exp√©rience tr√®s √©trange et d√©sorientante, perte de rep√®res corporels, visuels bizarres.');

        setInteraction('LSD', 'DXM', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Confusion extr√™me, naus√©es, exp√©rience chaotique et difficile √† g√©rer.');

        setInteraction('LSD', 'N2O', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Visuels explosifs pendant 1-2 minutes, sensation de compr√©hension cosmique, d√©connexion temporaire.');

        setInteraction('Mushrooms', 'N2O', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Visuels intenses brefs, sensation d\'unit√© universelle, rires incontr√¥lables.');

        // ========== PSYCH√âD√âLIQUES + STIMULANTS ==========
        setInteraction('LSD', 'MDMA', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Euphorie intense, visuels color√©s magnifiques, empathie profonde, √©nergie physique accrue.');

        setInteraction('Mushrooms', 'MDMA', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : Exp√©rience √©motionnelle puissante, larmes de joie, connexion profonde, naus√©es r√©duites.');

        setInteraction('LSD', 'Amphetamines', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Stimulation mentale excessive, anxi√©t√© augment√©e, difficult√© √† dormir, pens√©es rapides incontr√¥lables.');

        setInteraction('LSD', 'Cocaine', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Anxi√©t√© importante, parano√Øa accrue, trip d√©sagr√©able, crash difficile.');

        setInteraction('MDMA', 'Amphetamines', 'unsafe', '‚ò†', 
            'EFFETS AMPLIFI√âS : Neurotoxicit√© dangereuse, surchauffe corporelle, d√©shydratation extr√™me, risque cardiaque.');

        setInteraction('MDMA', 'Cocaine', 'unsafe', '‚ò†', 
            'EFFETS AMPLIFI√âS : Charge cardiaque dangereuse, anxi√©t√© extr√™me, neurotoxicit√© accrue, risque d\'AVC.');

        // ========== PSYCH√âD√âLIQUES + D√âPRESSEURS ==========
        setInteraction('LSD', 'Alcohol', 'low-risk-down', '‚Üì', 
            'EFFETS R√âDUITS : Alcool diminue l\'intensit√© du trip, confusion mentale accrue, naus√©es possibles.');

        setInteraction('Mushrooms', 'Alcohol', 'low-risk-down', '‚Üì', 
            'EFFETS R√âDUITS : Trip affaibli, naus√©es augment√©es, exp√©rience moins claire mentalement.');

        setInteraction('LSD', 'Benzodiazepines', 'low-risk-down', '‚Üì', 
            'EFFETS R√âDUITS : Trip fortement diminu√© ou annul√©, utile pour calmer un bad trip, somnolence.');

        setInteraction('Mushrooms', 'Benzodiazepines', 'low-risk-down', '‚Üì', 
            'EFFETS R√âDUITS : Effets psych√©d√©liques att√©nu√©s, anxi√©t√© r√©duite, trip plus g√©rable.');

        // ========== STIMULANTS ENTRE EUX ==========
        setInteraction('MDMA', '4-MMC', 'unsafe', '‚ò†', 
            'EFFETS AMPLIFI√âS : Neurotoxicit√© s√©v√®re, surchauffe dangereuse, √©puisement de s√©rotonine, d√©pression post longue.');

        setInteraction('Cocaine', 'Amphetamines', 'unsafe', '‚ò†', 
            'EFFETS AMPLIFI√âS : Charge cardiaque excessive, risque d\'arythmie, anxi√©t√© extr√™me, risque de crise cardiaque.');

        setInteraction('Cocaine', 'Caffeine', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Anxi√©t√© accrue, palpitations cardiaques, insomnie garantie, nervosit√© extr√™me.');

        // ========== D√âPRESSEURS COMBIN√âS (DANGEREUX) ==========
        setInteraction('Alcohol', 'GHB/GBL', 'dangerous', '‚úñ', 
            'DANGER MORTEL : D√©pression respiratoire impr√©visible, perte de conscience soudaine, coma, arr√™t respiratoire, MORT.');

        setInteraction('Alcohol', 'Opioids', 'dangerous', '‚úñ', 
            'DANGER MORTEL : D√©pression respiratoire s√©v√®re, vomissements avec √©touffement, coma, d√©c√®s fr√©quents.');

        setInteraction('Alcohol', 'Benzodiazepines', 'dangerous', '‚úñ', 
            'DANGER MORTEL : D√©pression respiratoire, blackout complet, risque de chute et blessures, coma possible.');

        setInteraction('GHB/GBL', 'Benzodiazepines', 'dangerous', '‚úñ', 
            'DANGER MORTEL : D√©pression respiratoire extr√™me, coma profond, arr√™t cardiaque possible.');

        setInteraction('Opioids', 'Benzodiazepines', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Combinaison la plus mortelle, d√©pression respiratoire s√©v√®re, d√©c√®s tr√®s fr√©quents.');

        setInteraction('GHB/GBL', 'Opioids', 'dangerous', '‚úñ', 
            'DANGER MORTEL : D√©pression respiratoire rapide et profonde, perte de conscience, d√©c√®s quasi-certain en overdose.');

        // ========== DISSOCIATIFS + D√âPRESSEURS ==========
        setInteraction('Ketamine', 'Alcohol', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Vomissements avec risque d\'√©touffement, d√©pression respiratoire, amn√©sie totale, coma.');

        setInteraction('Ketamine', 'GHB/GBL', 'dangerous', '‚úñ', 
            'DANGER MORTEL : D√©pression respiratoire impr√©visible, perte de conscience compl√®te, risque de mort.');

        setInteraction('Ketamine', 'Benzodiazepines', 'unsafe', '‚ò†', 
            'EFFETS AMPLIFI√âS : S√©dation excessive, amn√©sie compl√®te, risque de chute et blessure, confusion extr√™me.');

        setInteraction('DXM', 'Alcohol', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Naus√©es extr√™mes, vomissements, d√©pression respiratoire, dommages au foie.');

        // ========== TRAMADOL (RISQUES SP√âCIAUX) ==========
        setInteraction('Tramadol', 'SSRI', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Syndrome s√©rotoninergique - fi√®vre, confusion, tremblements, convulsions, peut √™tre fatal.');

        setInteraction('Tramadol', 'MDMA', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Syndrome s√©rotoninergique s√©v√®re, convulsions, hyperthermie, risque de d√©c√®s.');

        setInteraction('Tramadol', 'Amphetamines', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Risque de convulsions fortement augment√©, syndrome s√©rotoninergique possible.');

        setInteraction('Tramadol', 'Cocaine', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Convulsions, syndrome s√©rotoninergique, charge cardiaque excessive.');

        setInteraction('Tramadol', 'DXM', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Syndrome s√©rotoninergique garanti, convulsions, confusion extr√™me, peut √™tre fatal.');

        // ========== IMAO (TR√àS DANGEREUX AVEC BEAUCOUP) ==========
        setInteraction('MAOI', 'MDMA', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Syndrome s√©rotoninergique s√©v√®re, hyperthermie mortelle, convulsions, d√©c√®s fr√©quents.');

        setInteraction('MAOI', 'Amphetamines', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Crise hypertensive, AVC, h√©morragie c√©r√©brale, d√©c√®s possible.');

        setInteraction('MAOI', 'Cocaine', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Augmentation dangereuse de la pression art√©rielle, risque d\'AVC et crise cardiaque.');

        setInteraction('MAOI', 'SSRI', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Syndrome s√©rotoninergique garanti, peut √™tre fatal sans traitement imm√©diat.');

        setInteraction('MAOI', 'DXM', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Syndrome s√©rotoninergique s√©v√®re, hyperthermie, convulsions, souvent fatal.');

        setInteraction('MAOI', 'Tramadol', 'dangerous', '‚úñ', 
            'DANGER MORTEL : Syndrome s√©rotoninergique + convulsions, combinaison extr√™mement dangereuse.');

        // ========== SSRI + PSYCH√âD√âLIQUES ==========
        setInteraction('SSRI', 'LSD', 'low-risk-down', '‚Üì', 
            'EFFETS R√âDUITS : Trip fortement diminu√© ou inexistant, gaspillage de produit.');

        setInteraction('SSRI', 'Mushrooms', 'low-risk-down', '‚Üì', 
            'EFFETS R√âDUITS : Effets psych√©d√©liques tr√®s affaiblis, exp√©rience d√©cevante.');

        setInteraction('SSRI', 'MDMA', 'unsafe', '‚ò†', 
            'EFFETS R√âDUITS/DANGEREUX : MDMA n\'a pas d\'effet + risque de syndrome s√©rotoninergique.');

        // ========== DISSOCIATIFS ENTRE EUX ==========
        setInteraction('Ketamine', 'DXM', 'unsafe', '‚ò†', 
            'EFFETS AMPLIFI√âS : Dissociation extr√™me dangereuse, confusion totale, risque de blessure, mania possible.');

        setInteraction('Ketamine', 'MXE', 'unsafe', '‚ò†', 
            'EFFETS AMPLIFI√âS : Dissociation excessive, amn√©sie compl√®te, risque de chute et accidents.');

        setInteraction('Ketamine', 'N2O', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : K-hole plus profond, sensation de mort, perte de conscience possible, risque de chute.');

        // ========== CANNABIS + AUTRES ==========
        setInteraction('Cannabis', 'Alcohol', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Naus√©es importantes (spins), vertiges extr√™mes, vomissements, anxi√©t√© accrue.');

        setInteraction('Cannabis', 'MDMA', 'low-risk-neutral', '‚äô', 
            'EFFETS VARIABLES : Peut augmenter relaxation ou anxi√©t√© selon personne, confusion possible.');

        setInteraction('Cannabis', 'Cocaine', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Anxi√©t√© et parano√Øa augment√©es, charge cardiaque accrue.');

        setInteraction('Cannabis', 'Ketamine', 'caution', '‚ö†', 
            'EFFETS AMPLIFI√âS : Dissociation plus confuse, naus√©es possibles, d√©sorientation spatiale accrue.');

        // ========== BENZODIAZ√âPINES + STIMULANTS ==========
        setInteraction('Benzodiazepines', 'MDMA', 'low-risk-down', '‚Üì', 
            'EFFETS R√âDUITS : Euphorie de la MDMA diminu√©e, utile pour g√©rer l\'anxi√©t√© du comedown.');

        setInteraction('Benzodiazepines', 'Cocaine', 'unsafe', '‚ò†', 
            'EFFETS MASQU√âS : Benzos cachent effets coca√Øne, risque de surconsommation, charge cardiaque dangereuse.');

        setInteraction('Benzodiazepines', 'Amphetamines', 'caution', '‚ö†', 
            'EFFETS CONTRADICTOIRES : Annulation partielle des effets, risque de surconsommer l\'un ou l\'autre.');

        // ========================================
        // üìù AJOUTEZ VOS PROPRES INTERACTIONS :
        // ========================================
        
        // setInteraction('Cannabis', 'Alcohol', 'caution', '‚ö†', 'Votre description ici...');
        // setInteraction('MDMA', 'Ketamine', 'caution', '‚ö†', 'Votre description ici...');
        // ... etc.
		 setInteraction('Mescaline', 'Ketamine', 'low-risk-up', '‚Üë', 
            'EFFETS AMPLIFI√âS : j en sais rien j ai pas encore eu la foi de chercher mdrr.');

        // ========================================
        // CODE DE G√âN√âRATION DU TABLEAU
        // ========================================

        const substanceList = Object.keys(substances);
        const table = document.getElementById('interactionTable');
        
        // En-t√™te
        let headerRow = '<tr><th></th>';
        substanceList.forEach(sub => {
            headerRow += `<th class="substance-header" data-substance="${sub}">${sub}</th>`;
        });
        headerRow += '</tr>';
        table.innerHTML = headerRow;

        // Lignes
        substanceList.forEach((sub1, i) => {
            let row = `<tr><th class="substance-name" data-substance="${sub1}">${sub1}</th>`;
            substanceList.forEach((sub2, j) => {
                if (i === j) {
                    row += `<td class="diagonal"></td>`;
                } else {
                    const key1 = `${sub1}-${sub2}`;
                    const key2 = `${sub2}-${sub1}`;
                    const interaction = interactions[key1] || interactions[key2] || {
                        type: 'low-risk-neutral',
                        symbol: '‚äô',
                        info: 'Aucune information sp√©cifique disponible pour cette combinaison. Faites vos propres recherches et restez prudent.'
                    };
                    row += `<td class="${interaction.type}" data-sub1="${sub1}" data-sub2="${sub2}" data-type="${interaction.type}">
                        <span class="symbol">${interaction.symbol}</span>
                    </td>`;
                }
            });
            row += '</tr>';
            table.innerHTML += row;
        });

        // Modal
        const modal = document.getElementById('modal');
        const modalTitle = document.getElementById('modalTitle');
        const modalDescription = document.getElementById('modalDescription');
        const modalHeader = document.getElementById('modalHeader');
        const closeBtn = document.querySelector('.close');
        const tooltip = document.getElementById('tooltip');

        // Gestion des clics sur les cellules
        document.querySelectorAll('td[data-sub1]').forEach(cell => {
            cell.addEventListener('click', function() {
                const sub1 = this.dataset.sub1;
                const sub2 = this.dataset.sub2;
                const interactionType = this.dataset.type;
                const key1 = `${sub1}-${sub2}`;
                const key2 = `${sub2}-${sub1}`;
                const interaction = interactions[key1] || interactions[key2] || {
                    type: 'low-risk-neutral',
                    symbol: '‚äô',
                    info: 'Aucune information sp√©cifique disponible pour cette combinaison. Faites vos propres recherches et restez prudent.'
                };

                modalTitle.textContent = `${sub1} + ${sub2}`;
                modalDescription.textContent = interaction.info;
                
                // Appliquer la couleur exacte de la case au header du modal
                const bgColor = colorMap[interactionType];
                modalHeader.style.background = bgColor;
                modalHeader.style.color = (interactionType === 'caution') ? '#000' : '#fff';
                
                modal.style.display = 'block';
            });
        });

        // Gestion du survol pour les d√©finitions
        document.querySelectorAll('[data-substance]').forEach(element => {
            element.addEventListener('mouseenter', function(e) {
                const sub = this.dataset.substance;
                const def = substances[sub].def;
                tooltip.textContent = def;
                tooltip.style.display = 'block';
            });

            element.addEventListener('mouseleave', function() {
                tooltip.style.display = 'none';
            });

            element.addEventListener('mousemove', function(e) {
                tooltip.style.left = e.pageX + 15 + 'px';
                tooltip.style.top = e.pageY + 15 + 'px';
            });
        });

        // Fermer le modal
        closeBtn.onclick = () => modal.style.display = 'none';
        window.onclick = (e) => {
            if (e.target === modal) modal.style.display = 'none';
        };
    </script>
</body>
</html>